<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.acorn.HotkokMapper"> 
    

    <select id="getTravelInfo" resultType="HotkokDTO">
        SELECT * FROM (
            SELECT ROWNUM num, s.SidoCode, s.nickName, f.CONTENTID, f.TITLE, g.sigungucode, g.Name name, f.firstimage, f.SEARCHCOUNT
            FROM FamousPlaceTbl f
            JOIN SidoTbl s ON s.SidoCode = f.sidoCode
            JOIN SigunguTbl g ON f.SIGUNGUCODE = g.sigungucode
            ORDER BY f.SEARCHCOUNT
        ) g
        WHERE sidocode = #{sidocode} AND num BETWEEN #{start} AND #{end}
    </select>

    <select id="getFoodInfo" resultType="HotkokDTO">
        SELECT * FROM (
            SELECT ROWNUM num, s.SidoCode, s.nickName, f.CONTENTID, f.TITLE, g.sigungucode, g.Name name, f.firstimage, f.SEARCHCOUNT
            FROM FamousRestTbl f
            JOIN SidoTbl s ON s.SidoCode = f.sidoCode
            JOIN SigunguTbl g ON f.SIGUNGUCODE = g.sigungucode
            ORDER BY f.SEARCHCOUNT
        ) g
        WHERE sidocode = #{sidocode} AND num BETWEEN #{start} AND #{end}
    </select>

 
</mapper>